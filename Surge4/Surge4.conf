[General]
loglevel = notify
# 从 Surge iOS 4 / Surge Mac 3.3.0 起，工具开始支持 DoH
doh-server = https://13800000000.rubyfish.cn/, https://dns.alidns.com/dns-query, https://doh.360.cn/dns-query
dns-server = 223.5.5.5, 1.2.4.8, 114.114.114.114, 119.29.29.29, 8.8.8.8
tun-excluded-routes = 0.0.0.0/8, 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.168.0.0/16, 192.88.99.0/24, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32
skip-proxy = localhost, *.local, captive.apple.com, guzzoni.apple.com, 0.0.0.0/8, 10.0.0.0/8, 17.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.168.0.0/16, 192.88.99.0/24, 198.18.0.0/15, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 240.0.0.0/4, 255.255.255.255/32

wifi-assist = false
allow-wifi-access = false
wifi-access-http-port = 6152
wifi-access-socks5-port = 6153
http-listen = 0.0.0.0:6152
socks5-listen = 0.0.0.0:6153

external-controller-access = 请指定密码@0.0.0.0:6170
replica = false

tls-provider = openssl
network-framework = false
exclude-simple-hostnames = true
ipv6 = true

test-timeout = 4
proxy-test-url = http://www.gstatic.com/generate_204


[Replica]
hide-apple-request = true
hide-crashlytics-request = true
use-keyword-filter = false
hide-udp = false


[Proxy]
obfs-host=yunjiasu-cdn.net
[Proxy Group]
Proxy = select,Snell

[Rule]
IP-CIDR,8.8.8.8/32,proxy,no-resolve
# 自定义规则
RULE-SET,https://raw.githubusercontent.com/watcthpro/Rules/master/Surge4/REJECT.list,REJECT
# 实用规则片段集
# RULE-SET,SYSTEM,DIRECT
RULE-SET,https://cdn.jsdelivr.net/gh/Hackl0us/SS-Rule-Snippet@master/Rulesets/Basic/Apple-proxy.list,Proxy
RULE-SET,https://cdn.jsdelivr.net/gh/Hackl0us/SS-Rule-Snippet@master/Rulesets/Basic/Apple-direct.list,DIRECT
RULE-SET,https://cdn.jsdelivr.net/gh/Hackl0us/SS-Rule-Snippet@master/Rulesets/Basic/CN.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/Hackl0us/SS-Rule-Snippet/master/Rulesets/Custom/CN-ad.list,REJECT
RULE-SET,https://raw.githubusercontent.com/Hackl0us/SS-Rule-Snippet/master/Rulesets/Custom/ad-domains.list,REJECT
RULE-SET,https://cdn.jsdelivr.net/gh/Hackl0us/SS-Rule-Snippet@master/Rulesets/Basic/foreign.list,Proxy
RULE-SET,https://cdn.jsdelivr.net/gh/Hackl0us/SS-Rule-Snippet@master/Rulesets/App/social/Telegram.list,Proxy
RULE-SET,LAN,DIRECT


# 最终规则
GEOIP,CN,DIRECT
FINAL,Proxy,dns-failed

[Host]
iosapps.itunes.apple.com = script:dnspod
[Header Rewrite]

[URL Rewrite]

[Script]

del滴滴出行下方ads = type=http-response,pattern=^https:\/\/ct\.xiaojukeji\.com\/agent\/v3\/feeds\?,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/watcthpro/Rules/master/File/obj.data.js,script-update-interval=0
测试滴滴 = type=http-response,pattern=https:\/\/ct\.xiaojukeji\.com\/agent\/v3\/feeds\?dimensions,script-path=https://raw.githubusercontent.com/watcthpro/Rules/master/File/obj.data.js,script-update-interval=0
小小影视TF = type=http-response,pattern=^https:\/\/.*\.com\/getGlobalData\?,requires-body=1,max-size=0,script-path=小小影视TF.js
# > 加速 app ios下载
dnspod = script-path=https://raw.githubusercontent.com/langkhach270389/Scripting/master/Surge/dnspod.js,script-update-interval=0,type=dns
唯品会今日推荐 = type=http-response,pattern=http:\/\/mapi\.appvipshop\.com\/vips-mobile\/rest\/operation\/widget\/,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/watcthpro/Rules/master/File/obj.data.js,script-update-interval=0
人人视频菜单 = type=http-response,pattern=https:\/\/api\.rr\.tv\/v3plus\/category\/myCategory,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/watcthpro/Rules/master/File/obj.data.js,script-update-interval=0
人人视频广告 = type=http-response,pattern=http:\/\/raddus\.bayescom\.com\/raddus,requires-body=1,max-size=0,script-path=人人视频广告.js
高德地图 = type=http-response,pattern=https:\/\/m5\.amap\.com\/ws\/valueadded\/alimama\/splash_screen\/\?,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/watcthpro/Rules/master/File/obj.data.js,script-update-interval=0
滴滴出行一级菜单 = type=http-response,pattern=https:\/\/api\.didialift\.com\/beatles\/homeapi\/common\/user\/getconfigurationv2,requires-body=1,max-size=0,script-path=滴滴出行一级菜单.js
滴滴出行优惠券 = type=http-response,pattern=https:\/\/lion\.didialift\.com\/broker\/,requires-body=1,max-size=0,script-path=滴滴出行优惠券.js
滴滴出行开屏广告 = type=http-response,pattern=https:\/\/api\.udache\.com\/gulfstream\/horae\/v1\/passenger\/,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/watcthpro/Rules/master/File/obj.data.js,script-update-interval=0
getADS = type=http-request,pattern=https:\/\/api\.midukanshu\.com\/(advert|config)\/(getAds|getShowInfo),requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/watcthpro/Rules/master/File/obj.data.js,script-update-interval=0
reads = type=http-response,pattern=https:\/\/api\.midukanshu\.com\/fiction\/speed\/reads,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/watcthpro/Rules/master/File/obj.data.js,script-update-interval=0
del书架界面猜你喜欢 = type=http-response,pattern=https:\/\/api\.midukanshu\.com\/fiction\/scene\/getLike,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/watcthpro/Rules/master/File/obj.data.js,script-update-interval=0
del退出阅读时界面推荐 = type=http-response,pattern=https:\/\/api\.midukanshu\.com\/fiction\/recommend\/quitRead,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/watcthpro/Rules/master/File/obj.data.js,script-update-interval=0
米读去ads加载 = type=http-response,pattern=https:\/\/api\.midukanshu\.com\/advert\/(newReadEndnn|getPopupConfig),requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/watcthpro/Rules/master/File/obj.active.js,script-update-interval=0
米读去内容底部ads = type=http-response,pattern=https:\/\/api\.midukanshu\.com\/popup\/readerFloat,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/watcthpro/Rules/master/File/obj.data.js,script-update-interval=0
杭州市民卡 = type=http-response,pattern=https:\/\/smkmp\.96225\.com\/smkoperate\/bid\/1\.0\.0\/getBidResource,script-path=杭州市民卡.js
去有请大佬发言 = type=http-response,pattern=https:\/\/api\.midukanshu\.com\/fiction\/recommend\/chapterEndV2,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/watcthpro/Rules/master/File/obj.data.js,script-update-interval=0
去书架推荐 = type=http-response,pattern=https:\/\/api\.midukanshu\.com\/fiction\/like\/getLikes,requires-body=1,max-size=0,script-path=去书架推荐.js
去除结尾ads = type=http-response,pattern=https:\/\/api\.midukanshu\.com\/config\/getAds,requires-body=1,max-size=0,script-path=去除结尾ads.js
去除热评 = type=http-response,pattern=https:\/\/api\.midukanshu\.com\/user\/comment\/(paragraph_countv2|newMax),requires-body=1,max-size=0,script-path=去除热评.js
去除书架精品 = type=http-response,pattern=https:\/\/api\.midukanshu\.com\/fiction\/speed\/getReadsLimit,requires-body=1,max-size=0,script-path=去除书架精品.js
书架设置 = type=http-response,pattern=https:\/\/api\.midukanshu\.com\/baseconfig\/banner\/getFixPositionConfigData,requires-body=1,max-size=0,script-path=书架设置.js
getInfo = type=http-response,pattern=https:\/\/api\.midukanshu\.com\/fiction\/user\/getInfo,requires-body=1,max-size=0,script-path=getInfo.js
米读Home = type=http-response,pattern=https:\/\/api\.midukanshu\.com\/fiction\/config\/getHome,requires-body=1,max-size=0,script-path=米读Home.js
米读VIP = type=http-response,pattern=https:\/\/api\.midukanshu\.com\/user\/relation\/equityInfo,requires-body=1,max-size=0,script-path=米读VIP.js
米读设置 = type=http-response,pattern=https:\/\/api\.midukanshu\.com\/config\/center,requires-body=1,max-size=0,script-path=米读设置.js
米读任务栏 = type=http-response,pattern=https:\/\/api\.midukanshu\.com\/config\/getConfig,requires-body=1,max-size=0,script-path=米读任务栏.js
米读ads = type=http-response,pattern=https:\/\/api\.midukanshu\.com\/abtest\/getAppAb,requires-body=1,max-size=0,script-path=米读ads.js

腾讯视频签到 = type=cron,cronexp=4 0 * * *,script-path=https://raw.githubusercontent.com/chavyleung/scripts/master/videoqq/videoqq.js,script-update-interval=0
吾爱破解签到 = type=cron,cronexp=6 0 * * *,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/52pojie-DailyBonus/52pojie.js,script-update-interval=0
人人视频签到 = type=cron,cronexp=8 0 * * * *,script-path=https://raw.githubusercontent.com/chavyleung/scripts/master/rrtv/rrtv.js,script-update-interval=0

[MITM]
skip-server-cert-verify = true
tcp-connection = true
hostname = mapi.appvipshop.com,img10.360buyimg.com, *.gqbyh.com, *.hnhx360.com, *.*appss.com, *.*apps.com, weather-data.apple.com,lbsnavi.cdn.bcebos.com,180.101.212.21, 180.101.212.22, sc.appvipshop.com, m5.amap.com, *.xiaojukeji.com, *.udache.com, *.xiaojukeji.com, *.didialift.com, cdn.aiclk.com, *.midukanshu.com, *.12306.cn, *.jiangrenzhiguo.com, newclient.map.baidu.com, *.dingtalk.com, *.feng.com, img.youpin.mi-img.com, api.jr.mi.com, *.msstatic.com, gab.122.gov.cn, mbs.boc.cn, *.96225.com, *.didistatic.com, *.mi.com, *.alicdn.com, *.meituan.net, apiwz.midukanshu.com, *.ys7.com, *.tiktokv.com, *.byteoversea.com, *.musical.ly, *.snssdk.com
ca-passphrase = 4B676386
ca-p12 = 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
