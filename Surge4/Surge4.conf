[General]
# [高级设置]
# 日志等级
loglevel = notify
# 延迟测试（以下为默认值）
# > Internet 测试 URL
internet-test-url = http://captive.apple.com
# > 代理测速 URL
proxy-test-url = http://captive.apple.com
# > 测速超时（秒）
test-timeout = 60
# IPv6 支持
ipv6 = false

# Wi-Fi 访问
# > 允许 Wi-Fi 访问（默认不启用）
# allow-wifi-access = false
# > HTTP 代理服务端口（默认为"6152"）
# wifi-access-http-port = 6152
# > SOCKS5 代理服务端口（默认为"6153"）
# wifi-access-socks5-port = 6153

# 兼容性
# > 兼容模式（默认为"禁用"）
# compatibility-mode = 0
# > 跳过代理
tun-excluded-routes = 0.0.0.0/8, 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.168.0.0/16, 192.88.99.0/24, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32
skip-proxy = localhost, *.local, captive.apple.com, 0.0.0.0/8, 10.0.0.0/8, 17.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.168.0.0/16, 192.88.99.0/24, 198.18.0.0/15, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 240.0.0.0/4, 255.255.255.255/32



# 实验性功能
# > 启动 Network.framework（默认不启用）
network-framework = true

# > 拒绝页面显示错误
show-error-page-for-reject = true
# > 显示真实的IP
always-real-ip = *.apple.com
# > 劫持 DNS
# hijack-dns = 
# > TCP Force HTTP Hosts
force-http-engine-hosts = 122.14.246.33,175.102.178.52
# > VIF Excluded Routes
# tun-excluded-routes = 
# > VIF Included Routes

# [DNS] => DNS 服务器
dns-server = https://13800000000.rubyfish.c n:443, https://1.1.1.1/dns-query, https://dns.google/dns-query, https://dns9.quad9.net:443/dns-query, system
# dns-server = 1.2.4.8, 114.114.114.114, 223.5.5.5, 8.8.8.8, system

[Replica]
# [抓取流量] => 过滤器
# > 隐藏 Apple 请求
hide-apple-request=1
# > 隐藏 Crashlytics 请求
hide-crashlytics-request=1
# > 隐藏 UDP 会话
# hide-udp=0
# > 关键词过滤器
# keyword-filter-type=(null)
# keyword-filter=(null)


[Proxy]
obfs-host=yunjiasu-cdn.net
[Proxy Group]
Proxy = select, Snell, TrOjan
[Rule]
# 自定义规则
RULE-SET,https://raw.githubusercontent.com/watcthpro/Rules/master/Surge4/Advertising.list,REJECT
# 实用规则片段集
# RULE-SET,SYSTEM,DIRECT
RULE-SET,https://cdn.jsdelivr.net/gh/Hackl0us/SS-Rule-Snippet@master/Rulesets/Basic/Apple-proxy.list,Proxy
RULE-SET,https://cdn.jsdelivr.net/gh/Hackl0us/SS-Rule-Snippet@master/Rulesets/Basic/Apple-direct.list,DIRECT
RULE-SET,https://cdn.jsdelivr.net/gh/Hackl0us/SS-Rule-Snippet@master/Rulesets/Basic/CN.list,DIRECT
RULE-SET,https://cdn.jsdelivr.net/gh/Hackl0us/SS-Rule-Snippet@master/Rulesets/Basic/common-ad-keyword.list,REJECT
RULE-SET,https://cdn.jsdelivr.net/gh/Hackl0us/SS-Rule-Snippet@master/Rulesets/Basic/foreign.list,Proxy
RULE-SET,https://cdn.jsdelivr.net/gh/Hackl0us/SS-Rule-Snippet@master/Rulesets/App/social/Telegram.list,Proxy
RULE-SET,LAN,DIRECT

# TeamViewer
IP-CIDR,139.220.243.27/32,DIRECT,no-resolve
IP-CIDR,172.16.102.56/32,DIRECT,no-resolve
IP-CIDR,185.188.32.1/28,DIRECT,no-resolve
IP-CIDR,221.226.128.146/32,DIRECT,no-resolve

# TikTok 解锁
DOMAIN-SUFFIX,musical.ly,Proxy
DOMAIN-SUFFIX,pstatp.com,Proxy
DOMAIN-SUFFIX,tiktokv.com,Proxy

# 最终规则
GEOIP,CN,DIRECT
FINAL,Proxy,dns-failed

[Host]
*.taobao.com = server:223.5.5.5
*.tmall.com = server:223.5.5.5




[Header Rewrite]

[URL Rewrite]
^https?://(www.)?(g|google).cn https://www.google.com 302
# TikTok 解锁
(.*video_id=\w{32})(.*watermark=)(.*) $1 302
(?<=(carrier|sys)_region=)CN US 307 # 请根据实际需求切换国家代码以解锁不同区域



[Script]
# 小小影视
http-response https:\/\/.*\.xiaoxiao.*\.com\/(vod\/reqplay\/|ucp/index|getGlobalData) requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/QuantumultX/File/xxys.js
# 酷我音乐
http-response ^https?:\/\/vip1\.kuwo\.cn\/(vip\/v2\/user\/vip|vip\/spi/mservice) requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/Kuwo.js
http-request ^https?:\/\/musicpay\.kuwo.cn\/music\.pay\?uid=\d+ script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/KuWoMusicDownload.js
# WeChat
http-request ^https://mp\.weixin\.qq\.com/mp/getappmsgad script-path=https://Choler.github.io/Surge/Script/WeChat.js
# > Youtube
http-request ^https://[\s\S]*\.googlevideo\.com/.*&(oad|ctier) script-path=https://Choler.github.io/Surge/Script/YouTube.js
# 百度cloud
http-response https:\/\/pan\.baidu\.com\/rest\/2\.0\/membership\/user requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/BaiduCloud.js
# faceapp
http-response ^https?:\/\/api\.faceapp\.io(.*)\/api\/v.*\/auth\/user\/credentials requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/FaceApp.js
# Wps
http-response ^https?:\/\/account\.wps\.cn\/api\/users requires-body=1,max-size=-1,script-path=https://raw.githubusercontent.com/eHpo1/Rules/master/Surge4/Script/WPS.js
# 显示淘宝历史价格
http-request ^https?://.+/amdc/mobileDispatch requires-body=1,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/tb_price.js
# 显示JD历史价格
http-response ^https?://api\.m\.jd\.com/client\.action\?functionId=(wareBusiness|serverConfig) requires-body=1,script-path=https://raw.githubusercontent.com/yichahucha/surge/master/jd_price.js
# 大千世界
http-response ^https:\/\/api\.mvmtv\.com\/index\.php.*(c=user.*a=info|a=addr.*vid=.*) requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/dqsj.js
# 吾爱破解签到
http-request https:\/\/www\.52pojie\.cn\/home\.php\? script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/52pojieDailyBonus/Get-Cookie.js
# cron "0 8 * * *" script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/52pojieDailyBonus/52pojie.js
# 腾讯视频签到
http-request ^https:\/\/vip\.video\.qq\.com\/?.? script-path=https://raw.githubusercontent.com/chavyleung/scripts/master/videoqq/videoqq.cookie.js
# cron "15 0 0 * * *" script-path=https://raw.githubusercontent.com/chavyleung/scripts/master/videoqq/videoqq.js
# 京东签到
http-request https:\/\/api\.m\.jd\.com\/client\.action.*functionId=signBean(Index|GroupStageIndex) max-size=0,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/JD-DailyBonus/JD_DailyBonus.js
# cron "0 9 * * *" script-path=https://raw.githubusercontent.com/NobyDa/Script/master/JD-DailyBonus/JD_DailyBonus.js


[MITM]
skip-server-cert-verify = true
tcp-connection = true
hostname = www.youtube.com,youtubei.googleapis.com,m.youtube.com,s.youtube.com,mlife.cmbchina.com,*.video.qq.com,pan.baidu.com,newclient.map.baidu.com,map-mobile-opnimg.cdn.bcebos.com,*.bdstatic.com,*.dingtalk.com,*.feng.com,*.amap.com,gw.alicdn.com,api.lvwan365.com,pic1cdn.cmbchina.com,enjoy.abchina.com,mbs.boc.cn,static.95508.com,creditcardapp.bankcomm.com,creditcard.bankcomm.com,api.jr.mi.com,m.creditcard.ecitic.com,cdn.sdb.com,smkmp.96225.com,*.meituan.net,*.didistatic.com,gab.122.gov.cn,*.ys7.com,www.zybang.com,ios.wps.cn,*.kingsoft-office-service.com,api*.tiktokv.com,*.musical.ly,*.snssdk.com,api.m.jd.com,ms.jr.jd.com,mp.weixin.qq.com,api.mvmtv.com,account.wps.cn,api.faceapp.io,ssl.kohsocialapp.qq.com,*.googlevideo.com,*.zhihu.com,www.52pojie.cn,123.59.31.1,119.18.193.135,*.xiaoxiao*.com,trade-acs.m.taobao.com,amdc.m.taobao.com,*.kuwo.cn,img.youpin.mi-img.com,*.msstatic.com,unidesk.alicdn.com,api*.tiktokv.com, api*.musical.ly, api*.amemv.com, aweme*.snssdk.com

enable = true
ca-passphrase = 66D0CDA1
ca-p12 = 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
